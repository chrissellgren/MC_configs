<?xml version="1.0" encoding="us-ascii"?>
<marlin xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://ilcsoft.desy.de/marlin/marlin.xsd">

  <constants>
  </constants>
  
  <!-- ======================================================================================================== -->
  <!-- ======================================================================================================== -->
  <!-- == List of processors to execute                                                                      == -->
  <!-- ======================================================================================================== -->
  <!-- ======================================================================================================== -->

  <execute>

    <!-- ==========  Setup  ========== -->
    <processor name="MyAIDAProcessor"/>
    <processor name="EventNumber" />
    <processor name="Config" />

    <!-- ==========  Geometry initialization  ========== -->
    <processor name="InitDD4hep"/>


    <!-- ==========  Overlay  ========== -->
    <!-- <processor name="OverlayFull"/> -->

    <!-- ==========  Tracker Digitization  ========== -->
    <!-- <processor name="VXDBarrelRealisticDigi"/> 
    <processor name="VXDEndcapDigitiser"/>
    <processor name="InnerPlanarDigiProcessor"/> 
    <processor name="InnerEndcapPlanarDigiProcessor"/>
    <processor name="OuterPlanarDigiProcessor"/> 
    <processor name="OuterEndcapPlanarDigiProcessor"/> -->

    <!-- ==========  Filters  ========== -->
    <processor name="FilterClusters_VB" />
    <processor name="FilterClusters_IB" />

    <processor name="HitTimeFilter_VX" />
    <processor name="HitTimeFilter_IT" />
    <!-- <processor name="FilterDL_VXDB"/> -->


    <!-- ==========  Tracking  ========== -->
    <!--
    <processor name="MyCKFTracking"/>
    <processor name="MyTrackDeduper"/>
    <processor name="MyTrackFilter"/> -->
    
    <!-- ==========  Track Perf  ========== --> 
    <!-- <processor name="MyTrackTruth" /> -->
    <processor name="MyTrackPerf" />
    <processor name="MySimHitHistos" />

    <!-- ==========  Output  ========== -->
    <!-- <processor name="MyLCTuple" />
    <processor name="Output_REC"/> -->
    

  </execute>


  <!-- ======================================================================================================== -->
  <!-- ======================================================================================================== -->
  <!-- == Global setup                                                                                       == -->
  <!-- ======================================================================================================== -->
  <!-- ======================================================================================================== -->

  <processor name="Config" type="CLICRecoConfig" >
    <parameter name="Verbosity" options="DEBUG0-9,MESSAGE0-9,WARNING0-9,ERROR0-9,SILENT"> DEBUG7  </parameter>
    <!--Which option to use for Overlay: False, BIB. Then use, e.g., Config.OverlayFalse in the condition-->
    <parameter name="Overlay" type="string">False</parameter>
    <!--Possible values and conditions for option Overlay-->
    <parameter name="OverlayChoices" type="StringVec">False BIB</parameter>
    <!--Which option to use for Tracking: Truth, ConformalPlusExtrapolator, Conformal. Then use, e.g., Config.TrackingTruth in the condition-->
    <parameter name="Tracking" type="string">ACTS </parameter>
    <!--Possible values and conditions for option Tracking-->
    <parameter name="TrackingChoices" type="StringVec">Truth Conformal ACTS  </parameter>
    <!--Which option to use for VertexUnconstrained: ON, OFF. Then use, e.g., Config.VertexUnconstrainedOFF in the condition-->
    <parameter name="VertexUnconstrained" type="string">OFF </parameter>
    <!--Possible values and conditions for option Tracking-->
    <parameter name="VertexUnconstrainedChoices" type="StringVec">ON OFF  </parameter>
    <!--verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT")-->
    <parameter name="Verbosity" options="DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT"> MESSAGE0  </parameter> 
  </processor>

  <processor name="EventNumber" type="Statusmonitor">
    <parameter name="HowOften" type="int">1 </parameter>
    <parameter name="Verbosity" type="string"> MESSAGE </parameter>
  </processor>

  <processor name="MyAIDAProcessor" type="AIDAProcessor">
    <!--Processor that handles AIDA files. Creates on directory per processor.  Processors only need to create and fill the histograms, clouds and tuples. Needs to be the first ActiveProcessor-->
    <!-- compression of output file 0: false >0: true (default) -->
    <parameter name="Compress" type="int" value="1"/>
    <!-- filename without extension-->
    <parameter name="FileName" type="string" value="histograms_loosecluster"/>
    <!-- type of output file xml (default) or root ( only OpenScientist)-->
    <parameter name="FileType" type="string" value="root "/>
  </processor>


  <!-- ======================================================================================================== -->
  <!-- ======================================================================================================== -->
  <!-- == Input configuration                                                                                == -->
  <!-- ======================================================================================================== -->
  <!-- ======================================================================================================== -->

  <global>
    <parameter name="LCIOInputFiles">
      /global/cfs/cdirs/atlas/sellgren/MuonCollider/code/MyWorkspace/run/nodigitiming_nazbib/output_nazarbib_15nstiming_digitimingoff_1e_v1_1.slcio
    </parameter>
    <!-- Limit the number of processed records (run+evt): -->
    <parameter name="MaxRecordNumber" value="-1" />
    <parameter name="SkipNEvents" value="0" />
    <parameter name="SupressCheck" value="false" />  
    <parameter name="Verbosity" options="DEBUG0-9,MESSAGE0-9,WARNING0-9,ERROR0-9,SILENT">WARNING </parameter>
    <parameter name="RandomSeed" value="1234567890" />
  </global>


  <!-- ======================================================================================================== -->
  <!-- ======================================================================================================== -->
  <!-- == Output configuration                                                                               == -->
  <!-- ======================================================================================================== -->
  <!-- ======================================================================================================== -->
  
  <processor name="HitTimeFilter_VX" type = "FilterTimeHits"> 
    <parameter name="TrackerHitInputCollections" type="StringVec"> VBTrackerHits_CF</parameter>
    <parameter name="TrackerSimHitInputCollections" type="StringVec"> VertexBarrelCollection </parameter>
    <parameter name="TrackerHitInputRelations" type="StringVec"> VBTrackerHitsRelations_CF </parameter>
    <parameter name="TrackerHitOutputCollections" type="StringVec"> VBTrackerHits_CTF </parameter>
    <parameter name="TrackerSimHitOutputCollections" type="StringVec"> VertexBarrelCollection_TF </parameter>
    <parameter name="TrackerHitOutputRelations" type="StringVec"> VBTrackerHitsRelations_CTF </parameter>
    <parameter name="TimeLowerLimit" type="double"> -0.09 </parameter>
    <parameter name="TimeUpperLimit" type="double">  0.09 </parameter>
    <parameter name="FillHistograms" type="bool" value="true" />
  </processor>

    <processor name="HitTimeFilter_IT" type = "FilterTimeHits"> 
    <parameter name="TrackerHitInputCollections" type="StringVec"> IBTrackerHits_CF </parameter>
    <parameter name="TrackerSimHitInputCollections" type="StringVec"> InnerTrackerBarrelCollection </parameter>
    <parameter name="TrackerHitInputRelations" type="StringVec">IBTrackerHitsRelations_CF </parameter>
    <parameter name="TrackerHitOutputCollections" type="StringVec"> IBTrackerHits_CTF </parameter>
    <parameter name="TrackerSimHitOutputCollections" type="StringVec"> InnerTrackerBarrelCollection_TF </parameter>
    <parameter name="TrackerHitOutputRelations" type="StringVec"> IBTrackerHitsRelations_CTF </parameter>
    <parameter name="TimeLowerLimit" type="double"> -0.09 </parameter>
    <parameter name="TimeUpperLimit" type="double">  0.09 </parameter>
    <parameter name="FillHistograms" type="bool" value="true" />
  </processor>

  <group name="FilterDL_VXDB" type="FilterDoubleLayerHits">
    <parameter name="FillHistograms" type="bool" value="true" />
    <parameter name="SubDetectorName" type="string" value="Vertex" />
    <!-- Name of the input hit collection -->
    <parameter name="InputCollection" type="string" value="VBTrackerHits" />
    <!-- Name of the output filtered hit collection -->
    <parameter name="OutputCollection" type="string" value="VBTrackerHits_DL" />
    <!-- Configuration of the maximum dU and dTheta between a pair of hits at the inner and outer layer -->
    <parameter name="DeltaTimeMax" type="float"> 0.3 </parameter>
    <!-- 4 numbers per double-layer: <inner layer ID>  <outer layer ID>  <dPhi max [mrad]>  <dTheta max [mrad]> -->
    <parameter name="Verbosity" options="DEBUG0-9,MESSAGE0-9,WARNING0-9,ERROR0-9,SILENT">DEBUG0 </parameter>

    <!-- NEW LOOSE CUTS -->
    <processor name="FilterDL_VXDB" type="FilterDoubleLayerHits">
      <parameter name="DoubleLayerCuts" type="StringVec">
        0 1 2.0 35.0
        2 3 1.7 18.0
        4 5 1.5 10.0
        6 7 1.4 6.5
      </parameter>
    </processor>
  </group>   



    <processor name="FilterClusters_VB" type="FilterClusters"> 
    
    <parameter name="Verbosity" options="DEBUG0-9,MESSAGE0-9,WARNING0-9,ERROR0-9,SILENT"> MESSAGE  </parameter>

    <!--- Need to fill in these parameters with correct values for cuts-->
    <!-- How to format these? They are vectors of strings -->
    <parameter name="ThetaRanges" type="string">
      0 0.7 1.05 2.1 2.5 3.2
    </parameter>

    <parameter name="ClusterSize" type="string">
      <!--  tight cuts-->
      <!--  4.5 3.5 2.5 3.5 4.5 -->
      <!-- loose cuts -->
      6.5, 4.5, 3.5, 4.5, 6.5
    </parameter>

    <parameter name="Layers" type="string">
      8 8 8 8 8
    </parameter>

  
    <parameter name="InTrackerHitCollection" type="string" lcioInType="TrackerHitPlane">
    <!-- need to write input tracker hit collection(s) here (which, just barrel...?)-->
    <!-- unsure which collections to use -->
      VBTrackerHits
    </parameter>
    
    <parameter name="InRelationCollection" type="string" lcioInType="LCRelation">
    <!-- this is the output of tracktruth-->
      VBTrackerHitsRelations
    </parameter>

    <parameter name="OutTrackerHitCollection" type="string" lcioOutType="TrackerHitPlane">
     <!-- need to write output tracker hit collection(s) here-->
     VBTrackerHits_CF <!-- time and cluster filtered -->
    </parameter>
    
    <parameter name="OutRelationCollection" type="string" lcioOutType="LCRelation">
      VBTrackerHitsRelations_CF
    </parameter>

  </processor>

<processor name="FilterClusters_IB" type="FilterClusters"> 
    <parameter name="Verbosity" options="DEBUG0-9,MESSAGE0-9,WARNING0-9,ERROR0-9,SILENT"> MESSAGE  </parameter>
    <!--- Need to fill in these parameters with correct values for cuts-->
    <parameter name="ThetaRanges" type="string">
      0 0.7 1.05 2.1 2.5 3.2 </parameter>
    <parameter name="ClusterSize" type="string">
      <!--  tight cuts-->
      <!-- 4.5 3.5 2.5 3.5 4.5 -->
      <!-- loose cuts -->
      6.5, 4.5, 3.5, 4.5, 6.5
    </parameter>

    <parameter name="Layers" type="string">
      3 3 3 3 3
    </parameter>

  
    <parameter name="InTrackerHitCollection" type="string" lcioInType="TrackerHitPlane">
    <!-- need to write input tracker hit collection(s) here (which, just barrel...?)-->
      IBTrackerHits
    </parameter>
    
    <parameter name="InRelationCollection" type="string" lcioInType="LCRelation">
    <!-- this is the output of tracktruth-->
      IBTrackerHitsRelations
    </parameter>

    <parameter name="OutTrackerHitCollection" type="string" lcioOutType="TrackerHitPlane">
     <!-- need to write output tracker hit collection(s) here-->
     IBTrackerHits_CF
    </parameter>
    
    <parameter name="OutRelationCollection" type="string" lcioOutType="LCRelation">
      IBTrackerHitsRelations_CF
    </parameter>

  </processor>



  <processor name="MyTrackTruth" type="TrackTruthProc">
    <parameter name="TrackCollection" type="string" lcioInType="Track">SiTracks</parameter>
    <parameter name="MCParticleCollection" type="string" lcioInType="MCParticle">MCParticle</parameter>
    <parameter name="TrackerHit2SimTrackerHitRelationName" type="StringVec" lcioInType="LCRelation">
      VBTrackerHitsRelations
      IBTrackerHitsRelations
      OBTrackerHitsRelations
      VETrackerHitsRelations
      IETrackerHitsRelations
      OETrackerHitsRelations
    </parameter>
    <parameter name="Particle2TrackRelationName" type="string" lcioOutType="LCRelation">MCParticle_SiTracks</parameter>
  </processor>

  <processor name="MyTrackPerf" type="TrackPerfHistProc">
    <!-- add verbosity tag-->
    <parameter name="Verbosity" options="DEBUG0-9,MESSAGE0-9,WARNING0-9,ERROR0-9,SILENT">WARNING </parameter>
    <!-- <parameter name="TrackingOn" type="bool" value="false" /> -->
    <!--Name of the MCParticle collection-->
    <parameter name="MCParticleCollection" type="string" lcioInType="MCParticle">MCParticle</parameter>
    <!--Name of the Track collection-->
    <parameter name="TrackCollection" type="string" lcioInType="Track" value=""> </parameter>
    <!--Relations-->
    <parameter name="MCTrackRelationCollection" type="string" lcioInType="LCRelation" value=""> </parameter>
    <!-- Include Tracking collections from the digitizers. First 6 are TrackerHits, last is LCRelation-->
    <parameter name="VBTrackerHitsCollection" type="string" lcioInType="TrackerHitPlane">VBTrackerHits_CTF </parameter>
    <parameter name="IBTrackerHitsCollection" type="string" lcioInType="TrackerHitPlane">IBTrackerHits_CTF </parameter>
    <parameter name="OBTrackerHitsCollection" type="string" lcioInType="TrackerHitPlane">OBTrackerHits </parameter>
    <parameter name="VETrackerHitsCollection" type="string" lcioInType="TrackerHitPlane">VETrackerHits </parameter>
    <parameter name="IETrackerHitsCollection" type="string" lcioInType="TrackerHitPlane">IETrackerHits </parameter>
    <parameter name="OETrackerHitsCollection" type="string" lcioInType="TrackerHitPlane">OETrackerHits </parameter>
    <parameter name="VBRelationCollection" type="string" lcioInType="LCRelation">VBTrackerHitsRelations_CTF </parameter>
  </processor>

  <processor name="MySimHitHistos" type="SimHitHistProc">
    <parameter name="Verbosity" options="DEBUG0-9,MESSAGE0-9,WARNING0-9,ERROR0-9,SILENT">MESSAGE </parameter>
    <!-- Sim hits-->
    <parameter name="VBSimHitsCollection" type="string" lcioInType="SimTrackerHit">VertexBarrelCollection_TF </parameter>
    <parameter name="IBSimHitsCollection" type="string" lcioInType="SimTrackerHit">InnerTrackerBarrelCollection_TF </parameter>
    <parameter name="OBSimHitsCollection" type="string" lcioInType="SimTrackerHit">OuterTrackerBarrelCollection </parameter>
    <parameter name="VESimHitsCollection" type="string" lcioInType="SimTrackerHit">VertexEndcapCollection </parameter>
    <parameter name="IESimHitsCollection" type="string" lcioInType="SimTrackerHit">InnerTrackerEndcapCollection </parameter>
    <parameter name="OESimHitsCollection" type="string" lcioInType="SimTrackerHit">OuterTrackerEndcapCollection </parameter>
    <!-- Tracker hits-->
    <parameter name="VBTrackerHitsCollection" type="string" lcioInType="TrackerHitPlane">VBTrackerHits_CTF </parameter>
    <parameter name="IBTrackerHitsCollection" type="string" lcioInType="TrackerHitPlane">IBTrackerHits_CTF </parameter>
    <parameter name="OBTrackerHitsCollection" type="string" lcioInType="TrackerHitPlane">OBTrackerHits </parameter>
    <parameter name="VETrackerHitsCollection" type="string" lcioInType="TrackerHitPlane">VETrackerHits </parameter>
    <parameter name="IETrackerHitsCollection" type="string" lcioInType="TrackerHitPlane">IETrackerHits </parameter>
    <parameter name="OETrackerHitsCollection" type="string" lcioInType="TrackerHitPlane">OETrackerHits </parameter>
  </processor>

  <!-- ======================================================================================================== -->
  <!-- ======================================================================================================== -->
  <!-- == DD4hep configuration                                                                               == -->
  <!-- ======================================================================================================== -->
  <!-- ======================================================================================================== -->
  
  <processor name="InitDD4hep" type="InitializeDD4hep">
    <!--InitializeDD4hep reads a compact xml file and initializes the dd4hep::Detector object-->
    <!--Name of the DD4hep compact xml file to load-->
    <parameter name="DD4hepXMLFile" type="string">
      <!-- ~/detector-simulation/geometries/MuColl_10TeV_v0A/MuColl_10TeV_v0A.xml -->
      /opt/ilcsoft/muonc/detector-simulation/geometries/MuColl_v1.1/MuColl_v1.xml
    </parameter>
    <!--Alternate name for EncodingStringParameterName-->
    <!--If given, the Compact File parameter of that name will be used as argument to LCTrackerCellID::set_encoding_string()-->
    <parameter name="EncodingStringParameterName" type="string"> GlobalTrackerReadoutID  </parameter>
    <!--verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT")-->
    <!--parameter name="Verbosity" type="string">DEBUG </parameter-->
  </processor>


  
  <!-- ======================================================================================================== -->
  <!-- ======================================================================================================== -->
  <!-- == Overlay configuration                                                                              == -->
  <!-- ======================================================================================================== -->
  <!-- ======================================================================================================== -->

  <group name="Overlay">
  <parameter name="MCParticleCollectionName" type="string">MCParticle </parameter>
  <!--The output MC Particle Collection Name for the physics event-->
  <parameter name="MCPhysicsParticleCollectionName" type="string"> MCPhysicsParticle </parameter>
  <!--Time difference between bunches in the bunch train in ns-->
  <parameter name="Delta_t" type="float" value="1"/>
  <!--Number of bunches in a bunch train-->
  <parameter name="NBunchtrain" type="int" value="1"/>
  <parameter name="MergeMCParticles" type="bool" value="false"/> 
  <parameter name="AllowReusingBackgroundFiles" type="bool" value="true"/>
  <parameter name="StartBackgroundFileIndex" type="int" value="0"/>
  <parameter name="Verbosity" options="DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT">WARNING </parameter>

  <parameter name="Collection_IntegrationTimes" type="StringVec" >
    VertexBarrelCollection -0.18 0.24
    VertexEndcapCollection -0.18 0.24

    InnerTrackerBarrelCollection -0.36 0.48
    InnerTrackerEndcapCollection -0.36 0.48

    OuterTrackerBarrelCollection -0.36 0.48
    OuterTrackerEndcapCollection -0.36 0.48

    ECalBarrelCollection -0.25 10.
    ECalEndcapCollection -0.25 10.
    ECalPlugCollection   -0.25 10.

    HCalBarrelCollection -0.25 10.
    HCalEndcapCollection -0.25 10.
    HCalRingCollection   -0.25 10.

    YokeBarrelCollection -0.25 10.
    YokeEndcapCollection -0.25 10.

  </parameter>
  <!--Number of the Bunch crossing of the physics event-->
  <parameter name="PhysicsBX" type="int" value="1"/>
  <!--Draw random number of Events to overlay from Poisson distribution with  mean value NumberBackground-->
  <parameter name="Poisson_random_NOverlay" type="bool" value="false"/>
  <!--Place the physics event at an random position in the train - overrides PhysicsBX-->
  <parameter name="RandomBx" type="bool" value="false"/>
  <!--[mm/ns] (float) - default 5.0e-2 (5cm/us)-->
  <parameter name="TPCDriftvelocity" type="float" value="0.05"/>
  <parameter name="BackgroundFileNames" type="StringVec"> </parameter>

  <processor name="OverlayNone" type="OverlayTimingGeneric">
    <parameter name="BackgroundFileNames" type="StringVec"> /dev/null</parameter>
    <parameter name="NBunchtrain" type="int" value="0"/>
    <parameter name="NumberBackground" type="float" value="0."/>
  </processor>

  <processor name="OverlayFull" type="OverlayTimingGeneric">
    <parameter name="BackgroundFileNames" type="StringVec">
      /data/bib/MuCollv1_25ns_nEkin150MeV_QGSPBERT/sim_mumu-1e3x500-26m-lowth-excl_seed0000_allHits.slcio
      /data/bib/MuCollv1_25ns_nEkin150MeV_QGSPBERT/sim_mumu-1e3x500-26m-lowth-excl_seed0001_allHits.slcio
      /data/bib/MuCollv1_25ns_nEkin150MeV_QGSPBERT/sim_mumu-1e3x500-26m-lowth-excl_seed0002_allHits.slcio
      /data/bib/MuCollv1_25ns_nEkin150MeV_QGSPBERT/sim_mumu-1e3x500-26m-lowth-excl_seed0003_allHits.slcio
      /data/bib/MuCollv1_25ns_nEkin150MeV_QGSPBERT/sim_mumu-1e3x500-26m-lowth-excl_seed0004_allHits.slcio
      /data/bib/MuCollv1_25ns_nEkin150MeV_QGSPBERT/sim_mumu-1e3x500-26m-lowth-excl_seed0005_allHits.slcio
    </parameter>
    <parameter name="NumberBackground" type="float" value="1" />
    <parameter name="StartBackgroundFileIndex" type="int" value="-1"/>
  </processor>

  <processor name="OverlayTrimmed" type="OverlayTimingGeneric">
    <parameter name="BackgroundFileNames" type="StringVec">
      bib_trimmed.slcio
    </parameter>
    <parameter name="NumberBackground" type="float" value="1" />
  </processor>

  <processor name="OverlayTest" type="OverlayTimingGeneric">
    <parameter name="BackgroundFileNames" type="StringVec">
      /cvmfs/muoncollider.cern.ch/datasets/bib/MuColl_v1/example/mumi.000.slcio
      /cvmfs/muoncollider.cern.ch/datasets/bib/MuColl_v1/example/mumi.001.slcio
      /cvmfs/muoncollider.cern.ch/datasets/bib/MuColl_v1/example/mumi.002.slcio
      /cvmfs/muoncollider.cern.ch/datasets/bib/MuColl_v1/example/mumi.003.slcio
      /cvmfs/muoncollider.cern.ch/datasets/bib/MuColl_v1/example/mumi.004.slcio
      /cvmfs/muoncollider.cern.ch/datasets/bib/MuColl_v1/example/mupl.000.slcio
      /cvmfs/muoncollider.cern.ch/datasets/bib/MuColl_v1/example/mupl.001.slcio
      /cvmfs/muoncollider.cern.ch/datasets/bib/MuColl_v1/example/mupl.002.slcio
      /cvmfs/muoncollider.cern.ch/datasets/bib/MuColl_v1/example/mupl.003.slcio
      /cvmfs/muoncollider.cern.ch/datasets/bib/MuColl_v1/example/mupl.004.slcio
    </parameter>
    <parameter name="NumberBackground" type="float" value="100" />
  </processor>

</group>

  <group name="Overlay_old">
    <parameter name="MCParticleCollectionName" type="string">MCParticle </parameter>
    <!--The output MC Particle Collection Name for the physics event-->
    <parameter name="MCPhysicsParticleCollectionName" type="string"> MCPhysicsParticles </parameter>
    <!--Time difference between bunches in the bunch train in ns-->
    <parameter name="Delta_t" type="float" value="1"/>
    <!--Number of bunches in a bunch train-->
    <parameter name="NBunchtrain" type="int" value="1"/>
    <!--Whether MCParticle collections should be merged (slow with BIB) -->
    <parameter name="MergeMCParticles" type="bool" value="false"/>
    <!--Lower time limit for collections with a single value -->
    <parameter name="IntegrationTimeMin" type="float" value="-2.0"/>

    <!-- <parameter name="Collection_IntegrationTimes" type="StringVec" >
      VertexBarrelCollection        -0.18 0.24
      VertexEndcapCollection        -0.18 0.24

      InnerTrackerBarrelCollection  -0.36 0.48
      InnerTrackerEndcapCollection  -0.36 0.48

      OuterTrackerBarrelCollection  -0.36 0.48
      OuterTrackerEndcapCollection  -0.36 0.48

      ECalBarrelCollection          10.
      ECalEndcapCollection          10.

      HCalBarrelCollection          10.
      HCalEndcapCollection          10.

      YokeBarrelCollection          10.
      YokeEndcapCollection          10. 
      </parameter> -->

    <parameter name="Collection_IntegrationTimes" type="StringVec" >
      VertexBarrelCollection        15.0
      VertexEndcapCollection        15.0
    </parameter>
    <!--Number of the Bunch crossing of the physics event-->
    <parameter name="PhysicsBX" type="int" value="1"/>
    <!--Draw random number of Events to overlay from Poisson distribution with  mean value NumberBackground-->
    <parameter name="Poisson_random_NOverlay" type="bool" value="false"/>
    <!--Place the physics event at an random position in the train - overrides PhysicsBX-->
    <parameter name="RandomBx" type="bool" value="false"/>
    <!--[mm/ns] (float) - default 5.0e-2 (5cm/us)-->
    <parameter name="TPCDriftvelocity" type="float" value="0.05"/>
    <parameter name="BackgroundFileNames" type="StringVec"> </parameter>

    <processor name="OverlayFalse_old" type="OverlayTimingGeneric">
      <parameter name="BackgroundFileNames" type="StringVec"> /dev/null</parameter>
      <parameter name="NBunchtrain" type="int" value="0"/>
      <parameter name="NumberBackground" type="float" value="0."/>
    </processor>

    <processor name="OverlayBIB_old" type="OverlayTimingGeneric">
      <parameter name="BackgroundFileNames" type="StringVec">
        /data/bib/MuCollv1_25ns_nEkin150MeV_QGSPBERT_merged/sim-1e3x500-26m-lowth-excl_c00.slcio
        /data/bibs/MuCollv1_25ns_nEkin150MeV_QGSPBERT_merged/sim-1e3x500-26m-lowth-excl_c01.slcio
        /data/bib/MuCollv1_25ns_nEkin150MeV_QGSPBERT_merged/sim-1e3x500-26m-lowth-excl_c02.slcio
        /data/bib/MuCollv1_25ns_nEkin150MeV_QGSPBERT_merged/sim-1e3x500-26m-lowth-excl_c03.slcio
        /data/bib/MuCollv1_25ns_nEkin150MeV_QGSPBERT_merged/sim-1e3x500-26m-lowth-excl_c04.slcio   
      </parameter>
      <parameter name="Delta_t" type="float" value="1" />
      <parameter name="StartBackgroundFileIndex" type="int" value="0"/>
      <parameter name="AllowReusingBackgroundFiles" type="bool" value="true" />
      <parameter name="Verbosity" options="DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT">DEBUG0 </parameter>
      <parameter name="NBunchtrain" type="int" value="1" />
      <parameter name="NumberBackground" type="float" value="1499" />
    </processor>

  </group>


  <!-- ======================================================================================================== -->
  <!-- ======================================================================================================== -->
  <!-- == Tracker Digitizer configuration                                                                    == -->
  <!-- ======================================================================================================== -->
  <!-- ======================================================================================================== -->
  <processor name="VXDBarrelRealisticDigi" type="MuonCVXDDigitiser">
    <parameter name="Verbosity" type="string">MESSAGE </parameter>
    <parameter name="CollectionName" type="string"> VertexBarrelCollection </parameter>
    <parameter name="OutputCollectionName" type="string"> VBTrackerHits </parameter>
    <parameter name="RelationColName" type="string"> VBTrackerHitsRelations </parameter>
    <parameter name="SubDetectorName" type="string"> VertexBarrel </parameter>
    <!-- store all fired pixels -->
    <parameter name="StoreFiredPixels" type="int"> 1 </parameter>
    <!-- Pixel size (mm) -->
    <parameter name="PixelSizeX" type="float"> 0.025 </parameter>
    <parameter name="PixelSizeY" type="float"> 0.025 </parameter>
    <!-- FE threshold (in electrons) and electronic effects -->
    <parameter name="Threshold" type="float"> 500 </parameter>
    <parameter name="ChargeMaximum" type="float"> 15000. </parameter>
    <parameter name="ThresholdSmearSigma" type="int"> 25 </parameter>
    <parameter name="DigitizeCharge" type="int"> 1 </parameter>
    <parameter name="ChargeDigitizeNumBits" type="int"> 4 </parameter>
    <parameter name="ChargeDigitizeBinning" type="int"> 1 </parameter>
    <parameter name="DigitizeTime" type="int"> 1 </parameter>
    <parameter name="TimeDigitizeNumBits" type="int"> 10 </parameter>
    <parameter name="TimeDigitizeBinning" type="int"> 0 </parameter>
    <parameter name="TimeMaximum" type="float"> 0.09 </parameter>
    <parameter name="TimeSmearingSigma" type="float"> 0.05 </parameter>
    <parameter name="ElectronicEffects" type="int"> 1 </parameter>
    <parameter name="ElectronicEffects" type="int"> 1 </parameter>
    <parameter name="ElectronicNoise" type="float"> 80 </parameter>
    <!--Tangent of Lorentz angle (and optional Y component); SP note: a bit large.. did not x-check calcuilation-->
    <parameter name="TanLorentz" type="float"> 0.8 </parameter>
    <parameter name="TanLorentzY" type="float"> 0.0 </parameter>
    <!-- Apply Poisson smearing of electrons collected on pixels -->
    <parameter name="PoissonSmearing" type="int"> 1 </parameter>
    <!--Min threshold for delta-rays (MeV)-->
    <parameter name="CutOnDeltaRays" type="float"> 0.030 </parameter>
    <!-- Diffusion coefficient, defined as sqrt(D / mu / V) and 
         correlated with diffusion sigma by sigma(z) = z*_diffusionCoefficient -->
    <parameter name="Diffusion" type="float"> 0.07 </parameter>
    <!-- Segment Length in mm -->
    <parameter name="SegmentLength" type="float"> 0.005 </parameter>
    <!-- Energy Loss keV/mm -->
    <parameter name="EnergyLoss" type="float"> 280.0 </parameter>
    <!-- Max delta in energy for hit in electrons -->
    <parameter name="MaxEnergyDelta" type="float"> 100.0 </parameter> 
    <!-- Maximum values for track length (in mm) -->
    <parameter name="MaxTrackLength" type="float"> 10.0 </parameter>
    <!-- Number of electron-hole pairs per keV -->
    <parameter name="ElectronsPerKeV" type="float"> 270.3 </parameter>
  </processor>

  <processor name="VXDBarrelDigitiser" type="DDPlanarDigiProcessor"> 
    <parameter name="SubDetectorName" type="string"> Vertex </parameter>
    <!--PlanarDigiProcessor creates TrackerHits from SimTrackerHits, smearing them according to the input parameters.-->
    <!--whether hits are 1D strip hits-->
    <parameter name="IsStrip" type="bool">false </parameter>
    <!--resolution in direction of u-->
    <parameter name="ResolutionU" type="float"> 0.005 </parameter>
    <!--resolution in direction of v-->
    <parameter name="ResolutionV" type="float"> 0.005 </parameter>
    <!--Name of the Input SimTrackerHit collection-->
    <parameter name="SimTrackHitCollectionName" type="string" lcioInType="SimTrackerHit"> VertexBarrelCollection </parameter>
    <!--Name of TrackerHit SimTrackHit relation collection-->
    <parameter name="SimTrkHitRelCollection" type="string" lcioOutType="LCRelation"> VBTrackerHitsRelations </parameter>
    <!--Name of the TrackerHit output collection-->
    <parameter name="TrackerHitCollectionName" type="string" lcioOutType="TrackerHitPlane"> VBTrackerHits </parameter>
    <!--resolution in time-->
    <parameter name="ResolutionT" type="FloatVec"> 0.03  </parameter>
    <!--resolution in direction of u - either one per layer or one for all layers -->
    <parameter name="UseTimeWindow" type="bool"> true </parameter>
    <!--Correct hit times for propagation: radial distance/c-->
    <parameter name="CorrectTimesForPropagation" type="bool" value="true"/>
    <!--Lower bound of the time window [ns]-->
    <parameter name="TimeWindowMin" type="float"> -0.09 </parameter>
    <!--Upper bound of the time window [ns]-->
    <parameter name="TimeWindowMax" type="float"> 0.09 </parameter>
    <!--verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT")-->
    <parameter name="Verbosity" type="string"> WARNING </parameter>
  </processor>

  <processor name="VXDEndcapDigitiser" type="DDPlanarDigiProcessor">
    <parameter name="SubDetectorName" type="string"> Vertex </parameter>
    <!--PlanarDigiProcessor creates TrackerHits from SimTrackerHits, smearing them according to the input parameters.-->
    <!--whether hits are 1D strip hits-->
    <parameter name="IsStrip" type="bool">false </parameter>
    <!--resolution in direction of u-->
    <parameter name="ResolutionU" type="float"> 0.005 </parameter>
    <!--resolution in direction of v-->
    <parameter name="ResolutionV" type="float"> 0.005 </parameter>
    <!--Name of the Input SimTrackerHit collection-->
    <parameter name="SimTrackHitCollectionName" type="string" lcioInType="SimTrackerHit"> VertexEndcapCollection </parameter>
    <!--Name of TrackerHit SimTrackHit relation collection-->
    <parameter name="SimTrkHitRelCollection" type="string" lcioOutType="LCRelation"> VETrackerHitsRelations </parameter>
    <!--Name of the TrackerHit output collection-->
    <parameter name="TrackerHitCollectionName" type="string" lcioOutType="TrackerHitPlane"> VETrackerHits </parameter>
    <!--resolution in time-->
    <parameter name="ResolutionT" type="FloatVec"> 0.03  </parameter>
    <!--resolution in direction of u - either one per layer or one for all layers -->
    <parameter name="UseTimeWindow" type="bool"> true </parameter>
    <!--Correct hit times for propagation: radial distance/c-->
    <parameter name="CorrectTimesForPropagation" type="bool" value="true"/>
    <!--Lower bound of the time window [ns]-->
    <parameter name="TimeWindowMin" type="float"> -0.09 </parameter>
    <!--Upper bound of the time window [ns]-->
    <parameter name="TimeWindowMax" type="float"> 0.15 </parameter>
    <!--verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT")-->
    <parameter name="Verbosity" type="string"> WARNING </parameter>
  </processor>

  <processor name="InnerPlanarDigiProcessor" type="DDPlanarDigiProcessor">
    <!--PlanarDigiProcessor creates TrackerHits from SimTrackerHits, smearing them according to the input parameters.-->
    <parameter name="SubDetectorName" type="string"> InnerTrackers </parameter>
    <!--whether hits are 1D strip hits-->
    <parameter name="IsStrip" type="bool"> false </parameter>
    <!--resolution in direction of u-->
    <parameter name="ResolutionU" type="float"> 0.007 </parameter>
    <!--resolution in direction of v-->
    <parameter name="ResolutionV" type="float"> 0.090 </parameter>
    <!--Name of the Input SimTrackerHit collection-->
    <parameter name="SimTrackHitCollectionName" type="string" lcioInType="SimTrackerHit"> InnerTrackerBarrelCollection </parameter>
    <!--Name of TrackerHit SimTrackHit relation collection-->
    <parameter name="SimTrkHitRelCollection" type="string" lcioOutType="LCRelation"> IBTrackerHitsRelations </parameter>
    <!--Name of the TrackerHit output collection-->
    <parameter name="TrackerHitCollectionName" type="string" lcioOutType="TrackerHitPlane"> IBTrackerHits </parameter>
    <!--resolution in time-->
    <parameter name="ResolutionT" type="FloatVec"> 0.06  </parameter>
    <!--resolution in direction of u - either one per layer or one for all layers -->
    <parameter name="UseTimeWindow" type="bool"> true </parameter>
    <!--Correct hit times for propagation: radial distance/c-->
    <parameter name="CorrectTimesForPropagation" type="bool" value="true"/>
    <!--Lower bound of the time window [ns]-->
    <parameter name="TimeWindowMin" type="float"> -0.18 </parameter>
    <!--Upper bound of the time window [ns]-->
    <parameter name="TimeWindowMax" type="float"> 0.3 </parameter>
    <!--verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT")-->
    <parameter name="Verbosity" type="string"> WARNING </parameter>
  </processor>

  <processor name="InnerEndcapPlanarDigiProcessor" type="DDPlanarDigiProcessor">
    <!--PlanarDigiProcessor creates TrackerHits from SimTrackerHits, smearing them according to the input parameters.-->
    <parameter name="SubDetectorName" type="string"> InnerTrackers </parameter>
    <!--whether hits are 1D strip hits-->
    <parameter name="IsStrip" type="bool"> false </parameter>
    <!--resolution in direction of u-->
    <parameter name="ResolutionU" type="float"> 0.007 </parameter>
    <!--resolution in direction of v-->
    <parameter name="ResolutionV" type="float"> 0.090 </parameter>
    <!--Name of the Input SimTrackerHit collection-->
    <parameter name="SimTrackHitCollectionName" type="string" lcioInType="SimTrackerHit"> InnerTrackerEndcapCollection </parameter>
    <!--Name of TrackerHit SimTrackHit relation collection-->
    <parameter name="SimTrkHitRelCollection" type="string" lcioOutType="LCRelation"> IETrackerHitsRelations </parameter>
    <!--Name of the TrackerHit output collection-->
    <parameter name="TrackerHitCollectionName" type="string" lcioOutType="TrackerHitPlane"> IETrackerHits </parameter>
    <!--resolution in time-->
    <parameter name="ResolutionT" type="FloatVec"> 0.06  </parameter>
    <!--resolution in direction of u - either one per layer or one for all layers -->
    <parameter name="UseTimeWindow" type="bool"> true </parameter>
    <!--Correct hit times for propagation: radial distance/c-->
    <parameter name="CorrectTimesForPropagation" type="bool" value="true"/>
    <!--Lower bound of the time window [ns]-->
    <parameter name="TimeWindowMin" type="float"> -0.18 </parameter>
    <!--Upper bound of the time window [ns]-->
    <parameter name="TimeWindowMax" type="float"> 0.3 </parameter>
    <!--verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT")-->
    <parameter name="Verbosity" type="string"> WARNING </parameter>
  </processor>

  <processor name="OuterPlanarDigiProcessor" type="DDPlanarDigiProcessor">
    <!--PlanarDigiProcessor creates TrackerHits from SimTrackerHits, smearing them according to the input parameters.-->
    <parameter name="SubDetectorName" type="string"> OuterTrackers </parameter>
    <!--whether hits are 1D strip hits-->
    <parameter name="IsStrip" type="bool"> false </parameter>
    <!--resolution in direction of u-->
    <parameter name="ResolutionU" type="float"> 0.007 </parameter>
    <!--resolution in direction of v-->
    <parameter name="ResolutionV" type="float"> 0.090 </parameter>
    <!--Name of the Input SimTrackerHit collection-->
    <parameter name="SimTrackHitCollectionName" type="string" lcioInType="SimTrackerHit"> OuterTrackerBarrelCollection </parameter>
    <!--Name of TrackerHit SimTrackHit relation collection-->
    <parameter name="SimTrkHitRelCollection" type="string" lcioOutType="LCRelation"> OBTrackerHitsRelations </parameter>
    <!--Name of the TrackerHit output collection-->
    <parameter name="TrackerHitCollectionName" type="string" lcioOutType="TrackerHitPlane"> OBTrackerHits </parameter>
    <!--resolution in time-->
    <parameter name="ResolutionT" type="FloatVec"> 0.06  </parameter>
    <!--resolution in direction of u - either one per layer or one for all layers -->
    <parameter name="UseTimeWindow" type="bool"> true </parameter>
    <!--Correct hit times for propagation: radial distance/c-->
    <parameter name="CorrectTimesForPropagation" type="bool" value="true"/>
    <!--Lower bound of the time window [ns]-->
    <parameter name="TimeWindowMin" type="float"> -0.18 </parameter>
    <!--Upper bound of the time window [ns]-->
    <parameter name="TimeWindowMax" type="float"> 0.3 </parameter>
    <!--verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT")-->
    <parameter name="Verbosity" type="string"> WARNING </parameter>
  </processor>

  <processor name="OuterEndcapPlanarDigiProcessor" type="DDPlanarDigiProcessor">
    <!--PlanarDigiProcessor creates TrackerHits from SimTrackerHits, smearing them according to the input parameters.-->
    <parameter name="SubDetectorName" type="string"> OuterTrackers </parameter>
    <!--whether hits are 1D strip hits-->
    <parameter name="IsStrip" type="bool"> false </parameter>
    <!--resolution in direction of u-->
    <parameter name="ResolutionU" type="float"> 0.007 </parameter>
    <!--resolution in direction of v-->
    <parameter name="ResolutionV" type="float"> 0.090 </parameter>
    <!--Name of the Input SimTrackerHit collection-->
    <parameter name="SimTrackHitCollectionName" type="string" lcioInType="SimTrackerHit"> OuterTrackerEndcapCollection </parameter>
    <!--Name of TrackerHit SimTrackHit relation collection-->
    <parameter name="SimTrkHitRelCollection" type="string" lcioOutType="LCRelation"> OETrackerHitsRelations </parameter>
    <!--Name of the TrackerHit output collection-->
    <parameter name="TrackerHitCollectionName" type="string" lcioOutType="TrackerHitPlane"> OETrackerHits </parameter>
    <!--resolution in time-->
    <parameter name="ResolutionT" type="FloatVec"> 0.06  </parameter>
    <!--resolution in direction of u - either one per layer or one for all layers -->
    <parameter name="UseTimeWindow" type="bool"> true </parameter>
    <!--Correct hit times for propagation: radial distance/c-->
    <parameter name="CorrectTimesForPropagation" type="bool" value="true"/>
    <!--Lower bound of the time window [ns]-->
    <parameter name="TimeWindowMin" type="float"> -0.18 </parameter>
    <!--Upper bound of the time window [ns]-->
    <parameter name="TimeWindowMax" type="float"> 0.3 </parameter>
    <!--verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT")-->
    <parameter name="Verbosity" type="string"> WARNING </parameter>
  </processor>

  

  <!-- ======================================================================================================== -->
  <!-- ======================================================================================================== -->
  <!-- == Track finding configuration                                                                        == -->
  <!-- ======================================================================================================== -->
  <!-- ======================================================================================================== -->

  <!-- == CONFORMAL TRACKING parameters == -->

  <processor name="ConformalTrackingILC" type="ConformalTrackingV2">
    <!--ConformalTracking constructs tracks using a combined conformal mapping and cellular automaton approach.-->
    <!--Name of the TrackerHit input collections-->
    <parameter name="TrackerHitCollectionNames" type="StringVec" lcioInType="TrackerHitPlane">
      VBTrackerHits
      VETrackerHits
      IBTrackerHits
      IETrackerHits
      OBTrackerHits
      OETrackerHits
    </parameter>
    <!--Name of the MCParticle input collection-->
    <parameter name="MCParticleCollectionName" type="string" lcioInType="MCParticle">MCParticle </parameter>
    <!--Name of the TrackerHit relation collections-->
    <parameter name="RelationsNames" type="StringVec" lcioInType="LCRelation">
      VBTrackerHitsRelations
      VETrackerHitsRelations
      IBTrackerHitsRelations
      IETrackerHitsRelations
      OBTrackerHitsRelations
      OETrackerHitsRelations
    </parameter>
    <!--Silicon track Collection Name-->
    <parameter name="SiTrackCollectionName" type="string" lcioOutType="Track">SiTracksCT </parameter>
    <!--Debug hits Collection Name-->
    <parameter name="DebugHits" type="string" lcioOutType="TrackerHitPlane"> DebugHits </parameter>
    <!--Maximum number of track hits to try the inverted fit-->
    <parameter name="MaxHitInvertedFit" type="int">4 </parameter>
    <!--Final minimum number of track clusters-->
    <parameter name="MinClustersOnTrackAfterFit" type="int">4 </parameter>
    <!--enable debug timing -->
    <parameter name="DebugTiming" type="bool">false </parameter>
    <!--enable debug plots -->
    <parameter name="DebugPlots" type="bool">false </parameter>
    <!--retry with tightened parameters, when too many tracks are being created-->
    <parameter name="RetryTooManyTracks" type="bool">false </parameter>
    <parameter name="TooManyTracks" type="int">10000 </parameter>
    <!--sort results from kdtree search-->
    <parameter name="SortTreeResults" type="bool">true </parameter>

    <parameter name="Steps" type="StringVec">
      [VXDBarrel]
      @Collections : VBTrackerHits
      @Parameters : MaxCellAngle : 0.005; MaxCellAngleRZ : 0.005; Chi2Cut : 100; MinClustersOnTrack : 4; MaxDistance : 0.02; SlopeZRange: 10.0; HighPTCut: 10.0;
      @Flags : HighPTFit, VertexToTracker
      @Functions : CombineCollections, BuildNewTracks
      [VXDEncap]
      @Collections : VETrackerHits
      @Parameters : MaxCellAngle : 0.005; MaxCellAngleRZ : 0.005; Chi2Cut : 100; MinClustersOnTrack : 4; MaxDistance : 0.02; SlopeZRange: 10.0; HighPTCut: 0.0;
      @Flags : HighPTFit, VertexToTracker
      @Functions : CombineCollections, ExtendTracks
      [LowerCellAngle1]
      @Collections : VBTrackerHits, VETrackerHits
      @Parameters : MaxCellAngle : 0.025; MaxCellAngleRZ : 0.025; Chi2Cut : 100; MinClustersOnTrack : 4; MaxDistance : 0.02; SlopeZRange: 10.0; HighPTCut: 10.0;
      @Flags : HighPTFit, VertexToTracker, RadialSearch
      @Functions : CombineCollections, BuildNewTracks
      [LowerCellAngle2]
      @Collections :
      @Parameters : MaxCellAngle : 0.05; MaxCellAngleRZ : 0.05; Chi2Cut : 2000; MinClustersOnTrack : 4; MaxDistance : 0.02; SlopeZRange: 10.0; HighPTCut: 10.0;
      @Flags : HighPTFit, VertexToTracker, RadialSearch
      @Functions : BuildNewTracks, SortTracks
      [Tracker]
      @Collections : IBTrackerHits, OBTrackerHits, IETrackerHits, OETrackerHits
      @Parameters : MaxCellAngle : 0.05; MaxCellAngleRZ : 0.05; Chi2Cut : 2000; MinClustersOnTrack : 4; MaxDistance : 0.02; SlopeZRange: 10.0; HighPTCut: 0.0;
      @Flags : HighPTFit, VertexToTracker, RadialSearch
      @Functions : CombineCollections, ExtendTracks
      [Displaced]
      @Collections : VBTrackerHits, VETrackerHits, IBTrackerHits, OBTrackerHits, IETrackerHits, OETrackerHits
      @Parameters : MaxCellAngle : 0.05; MaxCellAngleRZ : 0.05; Chi2Cut : 1000; MinClustersOnTrack : 5; MaxDistance : 0.015; SlopeZRange: 10.0; HighPTCut: 10.0;
      @Flags : OnlyZSchi2cut, RadialSearch
      @Functions : CombineCollections, BuildNewTracks
    </parameter>

    <parameter name="trackPurity" type="double">0.7 </parameter>
    <parameter name="ThetaRange" type="double"> 0.05 </parameter>
    <!--verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT")-->
    <parameter name="Verbosity" type="string">DEBUG7</parameter>
  </processor>

  <processor name="ClonesAndSplitTracksFinder" type="ClonesAndSplitTracksFinder">
    <parameter name="InputTrackCollectionName" type="string"> SiTracksCT </parameter>
    <parameter name="OutputTrackCollectionName" type="string"> SiTracks </parameter>
    <parameter name="MultipleScatteringOn" type="bool"> true </parameter>
    <parameter name="EnergyLossOn" type="bool"> true </parameter>
    <parameter name="SmoothOn" type="bool"> false </parameter>
    <parameter name="extrapolateForward" type="bool"> true </parameter>
    <parameter name="maxDeltaTheta" type="double"> 0.59 </parameter>
    <parameter name="maxDeltaPhi" type="double"> 0.99 </parameter>
    <parameter name="maxDeltaPt" type="double"> 0.69 </parameter>
    <parameter name="mergeSplitTracks" type="bool"> false </parameter>
  </processor>

  <!-- == ACTS TRACKING parameters == -->

  <processor name="MyCKFTracking" type="ACTSSeededCKFTrackingProc">
    <!-- Path to material description -->
    <parameter name="MatFile" type="string">
      /opt/ilcsoft/muonc/ACTSTracking/v1.1.0/data/material-maps.json
    </parameter>
    <!-- Path to tracking geometry -->
    <parameter name="TGeoFile" type="string">
      /opt/ilcsoft/muonc/ACTSTracking/v1.1.0/data/MuColl_v1.root
    </parameter>
    <!-- Vol Layer, use -1 for all, ACTS numbers -->
    <parameter name="SeedingLayers" type="string">
      13 2
      13 6
      13 10
      13 14
      14  2
      14  6
      14 10
      14 14
      15  2
      15  6
      15 10
      15 14
    </parameter>
    <parameter name="SeedFinding_RMax" type="float">150</parameter>
    <parameter name="SeedFinding_DeltaRMin" type="float">5</parameter>
    <parameter name="SeedFinding_DeltaRMax" type="float">80</parameter>
    <parameter name="SeedFinding_CollisionRegion" type="float">1</parameter>
    <parameter name="SeedFinding_RadLengthPerSeed" type="float">0.1</parameter>
    <parameter name="SeedFinding_SigmaScattering" type="float">50</parameter>
    <parameter name="SeedFinding_MinPt" type="float">500</parameter>
    <!-- CKF Configuration -->
    <parameter name="CKF_Chi2CutOff" type="float">10</parameter>
    <parameter name="CKF_NumMeasurementsCutOff" type="int">1</parameter>
    <!--Define input tracker hits and relations. NB. Order must be respected -->
    <parameter name="TrackerHitCollectionNames" type="StringVec" lcioInType="TrackerHitPlane">
      VBTrackerHits
      IBTrackerHits
      OBTrackerHits
      VETrackerHits
      IETrackerHits
      OETrackerHits
    </parameter>
    <!--Track Collection Names-->
    <parameter name="RunCKF" type="bool">True</parameter>
    <parameter name="TrackCollectionName" type="string" lcioOutType="Track">AllTracks</parameter>
  </processor>

  <processor name="MyTrackDeduper" type="ACTSDuplicateRemoval">
    <parameter name="InputTrackCollectionName" type="string" lcioInType="Track">AllTracks</parameter>
    <parameter name="OutputTrackCollectionName" type="string" lcioOutType="Track">DedupedTracks</parameter>
  </processor>

  <processor name="MyTrackFilter" type="FilterTracks">
    <parameter name="InTrackCollection" type="string" lcioInType="Track">DedupedTracks</parameter>
    <parameter name="OutTrackCollection" type="string" lcioOutType="Track">SiTracks</parameter>
    <parameter name="MinPt" type="float">0.5</parameter>
    <parameter name="NHitsTotal" type="int">6</parameter>
    <parameter name="NHitsVertex" type="int">0</parameter>
    <parameter name="NHitsInner" type="int">0</parameter>
    <parameter name="NHitsOuter" type="int">0</parameter>
    <parameter name="Verbosity" type="string">DEBUG9 </parameter>
  </processor>
  

  <!-- == TRUTH TRACKING parameters == -->

  <processor name="MyTruthTrackFinder" type="TruthTrackFinder">
    <parameter name="FitForward" type="bool">true</parameter>
    <!--Define input tracker hits and relations. NB. Order must be respected -->
    <parameter name="TrackerHitCollectionNames" type="StringVec" lcioInType="TrackerHitPlane">
      VBTrackerHits
      VETrackerHits
      IBTrackerHits
      IETrackerHits
      OBTrackerHits
      OETrackerHits
    </parameter>
    <parameter name="SimTrackerHitRelCollectionNames" type="StringVec" lcioInType="LCRelation">
      VBTrackerHitsRelations
      VETrackerHitsRelations
      IBTrackerHitsRelations
      IETrackerHitsRelations
      OBTrackerHitsRelations
      OETrackerHitsRelations
    </parameter>
    <!--Name of the MCParticle input collection-->
    <parameter name="MCParticleCollectionName" type="string" lcioInType="MCParticle">MCParticle </parameter>
    <!--Silicon track Collection Name-->
    <parameter name="SiTrackCollectionName" type="string" lcioOutType="Track">SiTracks </parameter>
    <!--Silicon track particle relation Collection Name-->
    <parameter name="SiTrackRelationCollectionName" type="string" lcioOutType="LCRelation">SiTrackRelations </parameter>
    <!--If true use the truth information to initialise the helical prefit, otherwise use prefit by fitting 3 hits-->
    <parameter name="UseTruthInPrefit" type="bool">false </parameter>
    <parameter name="Verbosity" type="string">DEBUG0 </parameter>
  </processor>


	<processor name="MyLCTuple" type="LCTuple">
		<!-- LCTuple creates a ROOT TTRee with a column wise ntuple from LCIO collections -->
		<parameter name="FullSubsetCollections" type="StringVec"> </parameter>
		<!-- Name of input collections -->
		<parameter name="CalorimeterHitCollection" type="string" lcioInType="CalorimeterHit"> </parameter>
		<parameter name="ClusterCollection" type="string" lcioInType="Cluster"> PandoraClusters </parameter>
		<parameter name="IsoLepCollection" type="string" lcioInType="ReconstructedParticle"> </parameter>
		<parameter name="JetCollection" type="string" lcioInType="ReconstructedParticle"> JetCaloOut </parameter>
		<!-- Switch to write out extra parameters calculated using information from Jet Finder -->
		<parameter name="JetCollectionExtraParameters" type="bool"> false </parameter>
		<!-- Switch to write out jet parameters coming from LCFIPlus tagging processor -->
		<parameter name="JetCollectionTaggingParameters" type="bool"> false </parameter>
		<!--Switch to write out jet daughters parameters-->
		<parameter name="JetCollectionDaughtersParameters" type="bool"> true </parameter>

		<!-- Names of LCRelation collections - need parallel prefix names in RelPrefixes -->
		<parameter name="LCRelationCollections" type="StringVec" lcioInType="LCRelation"> </parameter>
		<!-- Names of prefixes for variables from LCRelation collections -->
		<!-- needs to be parallel to LCRelationCollections (one prefix per collection) -->
		<parameter name="LCRelationPrefixes" type="StringVec"> </parameter>
		<!-- Names of LCRelation collections of PFO -->
		<parameter name="LCRelationwithPFOCollections" type="string" lcioInType="LCRelation"> </parameter>

		<!-- Name of the MCParticle collection -->
		<parameter name="MCParticleCollection" type="string" lcioInType="MCParticle"> MCPhysicsParticles </parameter>
		<parameter name="MCParticleNotReco" type="string" lcioOutType="MCParticle"> </parameter>
		<!-- Name of the MCParticle collection where the overlay is removed -->
		<!-- parameter name="MCParticleRemoveOverlayCollection" type="string" lcioInType="MCParticle"> </parameter -->
		<!-- Name of the PFO collection with Relation -->
		<!-- parameter name="PFOwithRelationCollection" type="string" lcioInType="ReconstructedParticle"> </parameter -->
		<!-- Name of the ReconstructedParticle collection -->
		<parameter name="RecoParticleCollection" type="string" lcioInType="ReconstructedParticle"> PandoraPFOs </parameter>
		<!-- Name of the SimCalorimeterHit collection -->
		<parameter name="SimCalorimeterHitCollection" type="string" lcioInType="SimCalorimeterHit"> </parameter>
		<!-- Name of the SimTrackerHit collection -->
		<parameter name="SimTrackerHitCollection" type="string" lcioInType="SimTrackerHit"> </parameter>
		<!-- Name of the Track collection -->
		<parameter name="TrackCollection" type="string" lcioInType="Track"> SiTracks_Refitted </parameter>
		<!-- Name of the TrackerHit collection -->
		<parameter name="TrackerHitCollection" type="string" lcioInType="TrackerHit"> </parameter>

		<!-- verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT") -->
		<!-- parameter name="Verbosity" type="string"> DEBUG </parameter -->
		<!-- Name of the Vertex collection -->
		<parameter name="VertexCollection" type="string" lcioInType="Vertex"> </parameter>
		<!-- Switch to write out collection parameters -->
		<parameter name="WriteCalorimeterHitCollectionParameters" type="bool"> false </parameter>
		<!-- Switch to write out collection parameters -->
		<parameter name="WriteClusterCollectionParameters" type="bool"> false </parameter>
		<!-- Switch to write out collection parameters -->
		<parameter name="WriteIsoLepCollectionParameters" type="bool"> false </parameter>
		<!-- Switch to write out collection parameters -->
		<parameter name="WriteJetCollectionParameters" type="bool"> true </parameter>
		<!-- Switch to write out collection parameters -->
		<parameter name="WriteMCParticleCollectionParameters" type="bool"> false </parameter>
		<!-- Switch to write out collection parameters -->
		<parameter name="WriteRecoParticleCollectionParameters" type="bool"> false </parameter>
		<!-- Switch to write out collection parameters -->
		<parameter name="WriteSimCalorimeterHitCollectionParameters" type="bool"> false </parameter>
		<!-- Switch to write out collection parameters -->
		<parameter name="WriteSimTrackerHitCollectionParameters" type="bool"> false </parameter>
		<!-- Switch to write out collection parameters -->
		<parameter name="WriteTrackCollectionParameters" type="bool"> false </parameter>
		<!-- Switch to write out collection parameters -->
		<parameter name="WriteTrackerHitCollectionParameters" type="bool"> false </parameter>
		<!-- Switch to write out collection parameters -->
		<parameter name="WriteVertexCollectionParameters" type="bool"> false </parameter>
	</processor>

  <processor name="Output_REC" type="LCIOOutputProcessor">
    <!--   standard output: full reconstruction keep all collections -->
    <parameter name="LCIOOutputFile" type="string"> output_tightcluster.slcio </parameter>
    <parameter name="FullSubsetCollections" type="StringVec"> EfficientMCParticles InefficientMCParticles </parameter>
    <parameter name="LCIOWriteMode" type="string" value="WRITE_NEW"/>
    <!-- <parameter name="SplitFileSizekB" type="int">996147 </parameter> -->
    <parameter name="Verbosity" type="string">WARNING </parameter>
    <parameter name="DropCollectionNames" type="StringVec">  
    </parameter>
    <parameter name="DropCollectionTypes" type="StringVec">
    </parameter>
    <parameter name="KeepCollectionNames" type="StringVec">  </parameter>
  </processor>

</marlin>

